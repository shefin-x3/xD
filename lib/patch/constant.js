const _0x2a0bac = _0x4c2c;
(function (_0x280dbc, _0x10425a) {
    const _0x5df397 = _0x4c2c,
        _0x42a1e5 = _0x280dbc();
    while (!![]) {
        try {
            const _0x3a91ff = parseInt(_0x5df397(0x1e2)) / 0x1 * (-parseInt(_0x5df397(0x1a6)) / 0x2) + -parseInt(_0x5df397(0x1c7)) / 0x3 + -parseInt(_0x5df397(0x1ad)) / 0x4 * (parseInt(_0x5df397(0x1d8)) / 0x5) + parseInt(_0x5df397(0x1b1)) / 0x6 + parseInt(_0x5df397(0x1af)) / 0x7 * (-parseInt(_0x5df397(0x1be)) / 0x8) + -parseInt(_0x5df397(0x1de)) / 0x9 * (-parseInt(_0x5df397(0x1b2)) / 0xa) + parseInt(_0x5df397(0x1d3)) / 0xb;
            if (_0x3a91ff === _0x10425a) break;
            else _0x42a1e5['push'](_0x42a1e5['shift']());
        } catch (_0x86f0a2) {
            _0x42a1e5['push'](_0x42a1e5['shift']());
        }
    }
}(_0x1c15, 0x98530));

function _0x4c2c(_0x5e2af6, _0x36756a) {
    const _0x1c15d6 = _0x1c15();
    return _0x4c2c = function (_0x4c2cae, _0x32430f) {
        _0x4c2cae = _0x4c2cae - 0x1a2;
        let _0x4017c9 = _0x1c15d6[_0x4c2cae];
        return _0x4017c9;
    }, _0x4c2c(_0x5e2af6, _0x36756a);
}
const sharp = require(_0x2a0bac(0x1cf) + 'rp'),
    fs = require('fs'),
    ffmpeg = require('flu' + _0x2a0bac(0x1cb) + _0x2a0bac(0x1db) + _0x2a0bac(0x1ca) + 'g'),
    {
        exec
    } = require(_0x2a0bac(0x1d2) + _0x2a0bac(0x1c5) + _0x2a0bac(0x1ba) + _0x2a0bac(0x1bc) + 's'),
    a = require('./patch'),
    genThumbnail = async _0x1014ea => {
        const _0xccea15 = _0x2a0bac,
            _0x18eec = {
                'UVnZh': function (_0x5bbb2a, _0xa0eb84) {
                    return _0x5bbb2a(_0xa0eb84);
                },
                'lsjCo': _0xccea15(0x1d1) + _0xccea15(0x1dd)
            },
            _0x3379f8 = await _0x18eec[_0xccea15(0x1d5) + 'Zh'](sharp, _0x1014ea)[_0xccea15(0x1a7) + _0xccea15(0x1bd)](0x40)[_0xccea15(0x1c4) + 'g']({
                'quality': 0x3c
            })[_0xccea15(0x1c1) + _0xccea15(0x1d6) + 'er']();
        return _0x3379f8[_0xccea15(0x1a4) + _0xccea15(0x1d4) + 'ng'](_0x18eec[_0xccea15(0x1da) + 'Co']);
    };
exports[_0x2a0bac(0x1d7) + 'Thu' + _0x2a0bac(0x1bb) + _0x2a0bac(0x1c2)] = genThumbnail;
async function getVideoDuration(_0x3ccbbf) {
    const _0x428019 = {
        'qbpfL': function (_0x38b7ac, _0x3f126b) {
            return _0x38b7ac(_0x3f126b);
        },
        'vbdcd': function (_0x4496a7, _0x5f5765) {
            return _0x4496a7(_0x5f5765);
        },
        'yghLE': function (_0x1895e8, _0x406ce6) {
            return _0x1895e8 || _0x406ce6;
        }
    };
    return new Promise((_0x1303a2, _0xdc42bc) => {
        const _0x14395a = _0x4c2c;
        ffmpeg['ffp' + _0x14395a(0x1ab) + 'e'](_0x3ccbbf, (_0x4e9c7d, _0xc0ca47) => {
            const _0x1eb040 = _0x14395a;
            if (_0x4e9c7d) _0x428019[_0x1eb040(0x1c3) + 'fL'](_0xdc42bc, _0x4e9c7d);
            const _0x157e0f = _0xc0ca47?. [_0x1eb040(0x1c9) + _0x1eb040(0x1cd)]?. [_0x1eb040(0x1e5) + 'ati' + 'on'];
            _0x428019[_0x1eb040(0x1d9) + 'cd'](_0x1303a2, _0x428019['ygh' + 'LE'](_0x157e0f, undefined));
        });
    });
}

function _0x1c15() {
    const _0x4d649a = [' -v', '46UzNbTz', 'res', 'est', '0:0', 'peg', 'rob', 'Slr', '20FxTUzc', 'fra', '1744232eJngDE', '0 -', '3561642EELAzs', '2270asFkTZ', 'sqM', 'CfM', 'tVi', 'rea', 'teF', '.jp', 'qmb', 'pro', 'mbn', 'ces', 'ize', '16lKSAQm', 'Syn', 'rac', 'toB', 'ail', 'qbp', 'jpe', 'ld_', 'BXO', '1865322vBDDOT', 'ext', 'for', 'mpe', 'ent', 'ile', 'mat', 'Thu', 'sha', 'qcD', 'bas', 'chi', '15268187MLNgvs', 'tri', 'UVn', 'uff', 'gen', '160685oqfffM', 'vbd', 'lsj', '-ff', 'unl', 'e64', '22851oxMPID', 'ZnT', 'ffm', 'now', '28402wkeAjg', 'LLo', '/te', 'dur', 'leS', ' 1 ', 'toS'];
    _0x1c15 = function () {
        return _0x4d649a;
    };
    return _0x1c15();
}
exports[_0x2a0bac(0x1c8) + _0x2a0bac(0x1c0) + _0x2a0bac(0x1b5) + 'deo' + _0x2a0bac(0x1ce) + 'mb'] = _0x25e4aa => new Promise(async (_0x3d1a4b, _0x17e6f4) => {
    const _0x4e43ca = _0x2a0bac,
        _0x92528a = {
            'BXOfl': function (_0x3a0690, _0x28e7ee) {
                return _0x3a0690(_0x28e7ee);
            },
            'CfMFc': function (_0x2479ae, _0x587018) {
                return _0x2479ae + _0x587018;
            },
            'SlreC': function (_0x31bb46, _0xc71496) {
                return _0x31bb46 + _0xc71496;
            },
            'qcDdN': '.mp' + '4',
            'sqMVT': function (_0x56046b, _0x6be7f5) {
                return _0x56046b + _0x6be7f5;
            },
            'LLogQ': _0x4e43ca(0x1b8) + 'g',
            'qmbVw': function (_0x5a08ba, _0x1ce63d) {
                return _0x5a08ba(_0x1ce63d);
            },
            'ZnTxP': function (_0xc3ac8e, _0x239111, _0x32254f) {
                return _0xc3ac8e(_0x239111, _0x32254f);
            }
        },
        _0x5ddc77 = _0x92528a[_0x4e43ca(0x1b4) + 'Fc'](_0x92528a[_0x4e43ca(0x1ac) + 'eC']('./', Date[_0x4e43ca(0x1e1)]()), _0x92528a[_0x4e43ca(0x1d0) + 'dN']);
    fs['wri' + _0x4e43ca(0x1b7) + _0x4e43ca(0x1cc) + _0x4e43ca(0x1bf) + 'c'](_0x5ddc77, _0x25e4aa);
    const _0x326d7f = _0x92528a[_0x4e43ca(0x1b3) + 'VT'](_0x5ddc77, _0x92528a[_0x4e43ca(0x1e3) + 'gQ']),
        _0x284cad = _0x4e43ca(0x1e0) + _0x4e43ca(0x1aa) + ' -s' + 's 0' + _0x4e43ca(0x1a9) + _0x4e43ca(0x1a9) + _0x4e43ca(0x1b0) + 'i ' + _0x5ddc77 + (_0x4e43ca(0x1a5) + _0x4e43ca(0x1ae) + 'mes' + _0x4e43ca(0x1a3)) + _0x326d7f,
        _0x14b0b9 = await _0x92528a[_0x4e43ca(0x1b9) + 'Vw'](getVideoDuration, _0x5ddc77);
    _0x92528a[_0x4e43ca(0x1df) + 'xP'](exec, _0x284cad, async _0xa2f78a => {
        const _0x270bc0 = _0x4e43ca;
        if (_0xa2f78a) _0x17e6f4(_0xa2f78a);
        else _0x92528a[_0x270bc0(0x1c6) + 'fl'](_0x3d1a4b, {
            'duration': _0x14b0b9,
            'thumbnail': await genThumbnail(fs[_0x270bc0(0x1b6) + 'dFi' + _0x270bc0(0x1a2) + 'ync'](_0x326d7f))
        }), fs['unl' + 'ink' + _0x270bc0(0x1bf) + 'c'](_0x5ddc77), fs[_0x270bc0(0x1dc) + 'ink' + _0x270bc0(0x1bf) + 'c'](_0x326d7f);
    });
});